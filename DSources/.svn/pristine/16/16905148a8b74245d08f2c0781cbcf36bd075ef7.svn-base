using System;
using System.Collections.Generic;
using System.ComponentModel;
using System.Linq;
using System.Text;
using System.Threading.Tasks;

namespace DSources.Data
{
    public class Column
    {
        private List<Cell> cells;

        public Column(List<Cell> cells, ObjectsType type, Role role)
        {
            this.cells = cells;
            ObjectsTypeInColumn = type;
            RoleOfColumn = role;
        }
        public enum ObjectsType { Text,Number,Object }
        public enum Role { Fact, Dimension }
        
        [DefaultValue(null)]
        public virtual Column.Role RoleOfColumn { get; private set; }
        
        [DefaultValue(null)]
        public virtual Column.ObjectsType ObjectsTypeInColumn { get; private set; }

        public override bool Equals(object obj)
        {
            if (obj == null || GetType() != obj.GetType())
            {
                return false;
            }
            Column another = (Column)obj;
            if (another == null) { return false; }
            if (!another.RoleOfColumn.Equals(this.RoleOfColumn)) { return false; }
            if (!another.ObjectsTypeInColumn.Equals(this.ObjectsTypeInColumn)) { return false; }
            if (!another.cells.SequenceEqual(this.cells)) { Console.WriteLine("diffrent cells"); return false; }

            return true;
        }

        public override int GetHashCode()
        {
            return base.GetHashCode();
        }

    }
}
